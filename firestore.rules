rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    // Clients collection - Shared access
    match /clients/{clientId} {
      allow read, write: if request.auth != null;
    }
    
    // Transactions collection - Shared access
    match /transactions/{transactionId} {
      allow read, write: if request.auth != null;
    }
    
    // Metadata collection for counters
    match /metadata/{docId} {
      allow read, write: if request.auth != null;
    }
    
    // Voyages collection - Shared access
    match /voyages/{voyageId} {
      allow read, write: if request.auth != null;
    }
    
    // Expenses collection - Shared access
    match /expenses/{expenseId} {
      allow read, write: if request.auth != null;
    }
    
    // Invoices collection - Shared access
    match /invoices/{invoiceId} {
      allow read, write: if request.auth != null;
    }

    // Fleets collection - Shared access
    match /fleets/{fleetId} {
      allow read, write: if request.auth != null;
    }

    // Maintenance Logs collection - Shared access
    match /maintenance_logs/{logId} {
      allow read, write: if request.auth != null;
    }

    // Settings collection - Shared access (Global settings)
    match /settings/{settingId} {
      allow read, write: if request.auth != null;
    }
  }
}
